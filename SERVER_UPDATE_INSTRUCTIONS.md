# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–∞ 72.56.66.228

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### ‚ùå –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
- API endpoint `/api/settings/<module_name>` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "405 Method Not Allowed"
- API endpoint `/api/competitors` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Apify –∫–ª—é—á" –∏ "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤"

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **GET endpoint –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
```python
@app.route('/api/settings/<module_name>', methods=['GET', 'POST'])
def manage_settings(module_name):
    if request.method == 'GET':
        # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
```

2. **GET endpoint –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤:**
```python
@app.route('/api/competitors')
def get_competitors():
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
```

3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π:**
```python
template_map = {
    'trends': 'module_trends_new.html',
    'vacancies': 'module_vacancies.html', 
    'experts': 'module_experts.html',
    'monitoring': 'module_monitoring.html'
}
```

## üöÄ –°–ø–æ—Å–æ–±—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: SSH –¥–æ—Å—Ç—É–ø
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh -i ~/.ssh/gsr_server_key root@72.56.66.228

# –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª app.py
cp app_fixed_for_server.py app.py

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
systemctl restart your-app-service
# –∏–ª–∏
pkill -f "python.*app.py" && python3 app.py &
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ—Å—Ç–∏–Ω–≥–∞
1. –ó–∞–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–æ–º
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
3. –ù–∞–π—Ç–∏ —Ñ–∞–π–ª `app.py`
4. –ó–∞–º–µ–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –∫–æ–¥ –∏–∑ `app_fixed_for_server.py`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 3: Git (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git pull origin main
# –∏–ª–∏
git pull origin master
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: FTP/SFTP
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª app_fixed_for_server.py –Ω–∞ —Å–µ—Ä–≤–µ—Ä
# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ app.py
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints
curl http://72.56.66.228/api/settings/trends
curl http://72.56.66.228/api/competitors

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª–∏
curl http://72.56.66.228/module/vacancies | grep title
curl http://72.56.66.228/module/experts | grep title
```

## üìÅ –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

- **app_fixed_for_server.py** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è app.py
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** —Ç–µ–∫—É—â–µ–≥–æ app.py –ø–µ—Ä–µ–¥ –∑–∞–º–µ–Ω–æ–π
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –≤—Å–µ –º–æ–¥—É–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
- ‚úÖ API endpoints –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö –∏—Å—á–µ–∑–Ω—É—Ç  
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Apify –∫–ª—é—á–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è
