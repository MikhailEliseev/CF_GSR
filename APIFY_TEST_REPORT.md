# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ Apify Instagram Reels Scraper

## üìä –û–±–∑–æ—Ä

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 09.10.2025 14:39  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û  
**–ü—Ä–æ–±–ª–µ–º–∞:** HTTP 400: Bad Request –ø—Ä–∏ —Å–±–æ—Ä–µ —Ä–∏–ª—Å–æ–≤  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `api/apify_client.py`

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- **–û—à–∏–±–∫–∞:** HTTP 400: Bad Request –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `/api/trends/collect-reels`
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ Apify –∞–∫—Ç–æ—Ä–∞—Ö
- **–î–µ—Ç–∞–ª–∏:** –ê–∫—Ç–æ—Ä `xMc5Ga1oCONPmWJIa` —Ç—Ä–µ–±–æ–≤–∞–ª `username`, –∞ –∫–æ–¥ –ø–µ—Ä–µ–¥–∞–≤–∞–ª `profiles`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```python
# –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
"profiles": [username],

# –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
"username": [username],
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:**
- `api/apify_client.py` (—Å—Ç—Ä–æ–∫–∏ 15, 37)

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç Apify (test_apify_full.py)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ô–î–ï–ù

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Apify API: –£—Å–ø–µ—à–Ω–æ
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞–∫—Ç–æ—Ä–æ–≤: 2/2 (xMc5Ga1oCONPmWJIa, shu8hvrXbJbY3Eb9W)
- ‚úÖ –¢–µ—Å—Ç –≤—Å–µ—Ö 4 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: 4/4 —É—Å–ø–µ—à–Ω–æ
  - @alfa.resource.group.kg: ‚úÖ (194 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
  - @rem.vac: ‚úÖ (5953 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
  - @msk.job: ‚úÖ (2298 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤)
  - @rabota_navatu14: ‚úÖ (–æ–±—Ä–∞–±–æ—Ç–∞–Ω)
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º: –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –†–∞–±–æ—Ç–∞–µ—Ç

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 120.52 —Å–µ–∫—É–Ω–¥

### 2. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (–ø–æ—Ä—Ç 8000)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ô–î–ï–ù

**–¢–µ—Å—Ç—ã:**
- ‚úÖ Endpoint `/api/trends/collect-reels` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–±–æ—Ä —Ä–∏–ª—Å–æ–≤ –¥–ª—è @alfa.resource.group.kg: –£—Å–ø–µ—à–Ω–æ
- ‚úÖ –°–±–æ—Ä —Ä–∏–ª—Å–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: –£—Å–ø–µ—à–Ω–æ
- ‚úÖ JSON –æ—Ç–≤–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "reels": [
    {
      "id": "3730320092275401685",
      "url": "https://www.instagram.com/p/DPEwlwek-PV/",
      "views_count": 603,
      "likes_count": -1,
      "comments_count": 1,
      "caption": "–ö–∞–∂–¥—ã–π —Ä–∞–∑ –æ–±–µ—â–∞–µ—Ç–µ —Å–µ–±–µ: ¬´—ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–∞—Ö—Ç–∞¬ª ‚Äî –∏ —Å–Ω–æ–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ—Å—å...",
      "timestamp": "2025-09-26T17:48:24.000Z"
    }
  ],
  "total_count": 1,
  "viral_count": 1
}
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ô–î–ï–ù

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ú–æ–¥—É–ª—å —Ç—Ä–µ–Ω–¥–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ù–∞–π–¥–µ–Ω —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–æ–±—Ä–∞—Ç—å —Ä–∏–ª—Å—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤"
- ‚úÖ API endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–æ —Ä–∏–ª—Å–æ–≤: 1
- ‚úÖ –í–∏—Ä—É—Å–Ω—ã—Ö —Ä–∏–ª—Å–æ–≤: 1

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ deployment –ø–∞–∫–µ—Ç–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `apify_fix_deployment_20251009_143927/` - –ü–∞–ø–∫–∞ —Å deployment –ø–∞–∫–µ—Ç–æ–º
- `apify_fix_deployment_20251009_143927.tar.gz` - –ê—Ä—Ö–∏–≤ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `deploy.sh` - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `manual_deploy_instructions.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ–±–ª–µ–º–∞ —Å SSH
- SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É 72.56.66.228 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É: `ssh root@72.56.66.228`
2. –°–æ–∑–¥–∞–π—Ç–µ backup: `cp api/apify_client.py api/apify_client_backup_$(date +%Y%m%d_%H%M%S).py`
3. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `api/apify_client.py` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `pkill -f 'python.*app_current_backup.py' && nohup python3 app_current_backup.py > app.log 2>&1 &`

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `test_apify_full.py` - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- `test_web_interface.py` - –¢–µ—Å—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `test_server_after_deploy.py` - –¢–µ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### Deployment —Ñ–∞–π–ª—ã
- `deploy_apify_fix.py` - –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è deployment –ø–∞–∫–µ—Ç–∞
- `apify_fix_deployment_20251009_143927/` - –ì–æ—Ç–æ–≤—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `manual_deploy_instructions.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `APIFY_FIX_REPORT.md` - –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- `APIFY_TEST_REPORT.md` - –≠—Ç–æ—Ç –æ—Ç—á–µ—Ç

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ—Ö 4 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- ‚úÖ Endpoint `/api/trends/collect-reels` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 200
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ä–∏–ª—Å—ã –±–µ–∑ –æ—à–∏–±–∫–∏ HTTP 400
- ‚úÖ –ü–æ–ª—É—á–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç Apify (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)
- ‚úÖ Fallback –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∞–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!** 

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Apify Instagram Reels Scraper –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ, –∫–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, deployment –ø–∞–∫–µ—Ç —Å–æ–∑–¥–∞–Ω.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 72.56.66.228
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–∫–∏ HTTP 400

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ
